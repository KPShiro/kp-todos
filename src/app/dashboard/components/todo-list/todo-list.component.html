<ng-container *ngIf="(todos$ | async); let todos">
    <ng-container *ngIf="todos.length > 0; else emptyState">
        <div>
            <app-todo-list-item *ngFor="let todo of todos; let i = index" [todo]="todo"
                (checkboxClick)="onTodoItemCheckboxClick(todo, $event)"></app-todo-list-item>
        </div>
        <div class="p-3">
            <ng-container *ngIf="(isPendingFetchTodos$ | async); else enabledFetchTodos">
                <button type="button" class="btn btn-light text-muted" disabled>
                    <span class="spinner-border spinner-border-sm mr-2" role="status" aria-hidden="true"></span>
                    Fetch todos
                </button>
            </ng-container>
            <ng-template #enabledFetchTodos>
                <button type="button" class="btn btn-light text-muted" (click)="onFetchTodosClick()">
                    <i class="uil uil-cloud-download mr-2"></i> Fetch todos
                </button>
            </ng-template>
        </div>
    </ng-container>
</ng-container>

<ng-template #emptyState>
    <app-empty-state>
        <ng-container title>
            Lorem ipsum dolor sit amet
        </ng-container>
        <ng-container description>
            Consectetur adipisicing elit. Maxime doloremque facilis alias magnam, voluptates
            quod nihil? Nesciunt rerum unde dignissimos ad facere, vel nostrum qui. Nostrum fugit earum cum! Ipsam!
        </ng-container>
        <ng-container actions>
            <button type="button" class="btn btn-primary" disabled>
                <i class="uil uil-plus"></i> Add new task
            </button>
        </ng-container>
    </app-empty-state>
</ng-template>
