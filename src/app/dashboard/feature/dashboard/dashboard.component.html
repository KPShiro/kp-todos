<div class="p-3" *ngIf="{
    isFetchTodosPending: (isFetchTodosPending$ | async),
    todos: (todos$ | async)
}; let data">
    <button type="button" (click)="test()" class="btn btn-primary d-flex align-items-center mb-3" [disabled]="data.isFetchTodosPending">
        <span *ngIf="data.isFetchTodosPending" class="spinner-border spinner-border-sm mr-3" role="status"
            aria-hidden="true"></span>
        Refresh data
    </button>

    <div class="page-header">
        <small class="page-header-date">10 June 2021 15:45:52</small>
        <h1 class="page-header-title">My first release</h1>
    </div>

    <div [@listAnimation]="data.isFetchTodosPending">
        <app-todo-list-item *ngFor="let todo of data.todos" [todo]="todo"
            (checkboxClick)="onTodoCheckboxClick(todo, $event, data.isFetchTodosPending)"
            (click)="onTodoClick(todo, data.isFetchTodosPending)">
        </app-todo-list-item>
    </div>

    <ng-container *ngIf="!data.isFetchTodosPending && (todos$ | async)?.length === 0">
        <app-empty-state>
            <ng-container title>
                Lorem ipsum dolor sit amet
            </ng-container>
            <ng-container description>
                Consectetur adipisicing elit. Maxime doloremque facilis alias magnam, voluptates
                quod nihil? Nesciunt rerum unde dignissimos ad facere, vel nostrum qui. Nostrum fugit earum cum!
                Ipsam!
            </ng-container>
            <ng-container actions>
                <button type="button" class="btn btn-primary" disabled>
                    <i class="uil uil-plus"></i> Add new task
                </button>
            </ng-container>
        </app-empty-state>
    </ng-container>
</div>
